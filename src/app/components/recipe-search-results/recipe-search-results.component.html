<app-recipe-search-form
  (searchEvent)="onSearch($event)"
></app-recipe-search-form>

<div class="recipe-parent">
  @if (recipes$ | async; as recipes) {
    @for (recipe of recipes; track recipe) {
      <div class="recipe">
        <div class="recipe-image-parent">
          <img
            [routerLink]="['/search', recipe.apiUri]"
            src="{{ recipe.imageUrl }}"
            alt="image"
            class="recipe-image"
          />
          <mat-icon class="recipe-icon outer">lens</mat-icon>
          @if (!isRecipeSaved(recipe.apiUri)) {
            <mat-icon
              (click)="addToFavorites(recipe)"
              class="recipe-icon inner"
            >
              favorite_border</mat-icon
            >
          }
          @if (isRecipeSaved(recipe.apiUri)) {
            <mat-icon
              (click)="deleteFromFavorites(recipe)"
              [ngClass]="isRecipeSaved(recipe.apiUri) ? 'grow-and-shrink' : ''"
              class="recipe-icon inner"
              >favorite</mat-icon
            >
          }
        </div>
        <div class="recipe-text-parent">
          <h3 class="recipe-name">
            <a [routerLink]="['/search', recipe.apiUri]">
              {{ recipe.name }}
            </a>
          </h3>
          <p class="recipe-source">
            <a href="{{ recipe.sourceUrl }}" target="_blank">{{
              recipe.sourceName
            }}</a>
          </p>
        </div>
      </div>
    }
  }
</div>
